
run:
  n_birds: 10                   # Number of birds to simulate
  dt: 0.1                       # time interval to integrate in seconds
  dt_to_save: 1                 # time interval to save in seconds
  duration: 99                  # duration of the simulation in seconds
  noise_level: 0.1              # Additive zero mean gaussian noise to the GPS trajectories
  skip_landed: True             # If True, birds that can go up and land will be thrown out and tried again
  inspect_before_running: false # If True, air velocity field visualization will be displayed
  inspect_before_saving: True   # If True, individual trajectories will be inspected and one can press "e" to exclude the bird
  save_folder: 'synthetic_data' # folder to save the simulation files
  prefix: ''                    # This will be added to save_folder. Useful for batch operations.
  random_seed: null             # random seed to use
  verbosity: 'info'             # verbosity level for the logging on the standard output


bird:
  initial_conditions:           # Initial conditions for the gliders
    rho:                        # Initial radial distance to the thermal core
      distribution: 'uniform'
      parameters:
        low: 0
        high: 10
    phi:                        # Initial azimuthal position relative to the thermal core
      distribution: 'uniform'
      parameters:
        low: 0
        high: 6.28 # 2 x Pi
    z:                          # Initial Altitude
      distribution: 'uniform'
      parameters:
        low: 50
        high: 100
    bank_angle:                 # Initial bank angle
      distribution: 'normal'
      parameters:
        loc: 30
        scale: 10
    bearing:                    # Initial Bearing angle
      distribution: 'uniform'
      parameters:
        low: 0
        high: 6.28 # 2 x Pi

  physical_parameters:              # Physical parameters for each glider
    CL:                             # Lift Coefficient
      distribution: 'uniform'
      parameters:
        low: 1.0
        high: 1.4
    CD:                             # Drag Coefficient
      distribution: 'uniform'
      parameters:
        low: 0.08684
        high: 0.11904
    mass:                           # Mass, in kg
      distribution: 'uniform'
      parameters:
        low: 2.5
        high: 3.5
    wing_area:                      # Wing area in m^2
      distribution: 'uniform'
      parameters:
        low: 0.3
        high: 0.8

  control_parameters:                 # Behavioural Parameters, split into general_args, exploration and exploitation
    general_args:
      period: 0.5                     # Period of the behavioural change in seconds. In this example the glider will
                                      # change its bank angle every 0.5 seconds
      bank_angle_max:                 # Maximum bank angle allowed per bird, in degrees
        distribution: 'normal'
        parameters:
          loc: 45
          scale: 9
      delta_bank_angle_max:           # Maximum rate of change of bank angle allowed per bird, in degrees per second
        distribution: 'uniform'
        parameters:
          low: 25
          high: 35
      sigma_noise_degrees: 0          # Standard deviation of the zero-mean gaussian noise added to the bank angle, in degrees
      N_out_of_thermal: 10            # duration of continuous sinking before entering "out-of-thermal" mode
      exploration_exploitation_ratio: # parameter to mix the exploration and exploitation strategies
        distribution: 'normal'
        parameters:
          loc: 0.5
          scale: 0.2
      debug: False

    exploration:                      # Exploration Strategy
      alpha_degrees: 30               # Parameter to determine how reactive the glider will be to changes in vertical speed
      time: 10                        # Duration of period of fully exploratory behaviour at the begin of the simulation  so that the glider finds the thermal
    exploitation:                     # Exploitation Strategy
      K:
        distribution: 'normal'
        parameters:
          loc: 0.5
          scale: 0.2
      thermalling_bank_angle:         # Desired thermalling bank angle
        distribution: 'normal'
        parameters:
          loc: 25
          scale: 5
    glide: false
#      trigger:
#        time: 250
#        #Z: 600
#      direction:
#        distribution: 'uniform'
#        parameters:
#          low: 0
#          high: 6.28 # 2 x Pi

air:
  thermal:
    rotation:               # thermal horizontal velocities, see documentation
      from_function:
        file: 'config/custom_functions.py'
        function: quadratic
        parameters:
          A_rotation: 4
          radius: 30
    profile:                # thermal vertical velocities, see documentation
      from_function:
        file: 'config/custom_functions.py'
        function: fat_gaussian
        parameters:
          A: 4
          radius: 30
  wind: [0,0]               # horizontal wind velocity, see documentation
#    generate:
#      method: random
#      distribution: 'normal'
#      parameters:
#        loc: 0
#        scale: 0.4
#      n_steps: 10
#      limits:
#        x: [-1000, 1000]
#        z: [0, 1000]
##################################################

#    generate:
#      method: random_walk
#      mean: 1
#      std: 0.2
#      n_steps: 10
#      limits:
#        x: [-1000, 1000]
#        z: [0, 1000]
##################################################
#    from_data:
#      'XYZT_values': [[-1000,0] ,
#                      [-1000,1000] ,
#                      [1000,0],
#                      [1000, 1000]]
#      'values': [[0,0],
#                      [0,1],
#                      [1,1],
#                      [2,0]]
#      'used_vars': 'XZ'
  turbulence: null                # turbulent velocity field, see documentation
  #   reset_period: 30
  #   weighting_method: null
  #   normalization: 1
  #   downsampling_factor: 1
  #   data_path: null
  #   scales:
  #     400: 1
  rho: 1.225                        # air density